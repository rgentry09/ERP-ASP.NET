@using GridBlazorServerSide.Models
@inject IUriHelper UriHelper

@if (Order == null)
{
    <p class="muted">
        Select order to display detailed infomation
    </p>
}
else
{
    <dl>
        <dt>Order number:</dt>
        <dd>@Order.OrderID</dd>


        @if (Order.OrderDate.HasValue)
        {

            <dt>Order date:</dt>
            <dd>@Order.OrderDate.Value.ToString()</dd>

        }

        <dt>Freight:</dt>
        <dd>@Order.Freight</dd>

        <dt>
            Ship address:
        </dt>
        <dd>
            @Order.ShipPostalCode, @Order.ShipCity, @Order.ShipCity,
            @Order.ShipAddress
        </dd>

        <dt>
            Customer:
        </dt>
        <dd>@Order.Customer.CompanyName</dd>
    </dl>
    @if (ReturnUrl != "selectable")
    {
        <div>
            <button class='btn btn-sm btn-primary' @onclick="MyClickHandler">Edit</button>
        </div>
    }
}

@code {
    [Parameter]
    private Order Order { get; set; }

    [Parameter]
    private string ReturnUrl { get; set; }

    [Parameter]
    private string GridState { get; set; }

    private void MyClickHandler(UIMouseEventArgs e)
    {
        UriHelper.NavigateTo($"/editorder/{Order.OrderID.ToString()}/{ReturnUrl}/{GridState}");
    }
}